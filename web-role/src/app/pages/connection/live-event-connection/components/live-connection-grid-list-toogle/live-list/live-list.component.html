<div class="table-responsive">
  <table>
    <tr>
      <th>
        <div class="d-flex">
          <span class=" f-w-500" text-align="center">Action</span>
        </div>
      </th>
      <th>
        <div class="d-flex">
          <span class=" f-w-500" text-align="center">Name</span>
        </div>
      </th>
      <th>
        <div class="d-flex">
          <span class=" f-w-500" text-align="center">Role</span>
        </div>
      </th>
      <th>
        <div class="d-flex">
          <span class=" f-w-500" text-align="center">Location</span>
        </div>
      </th>
      <th>
        <div class="d-flex">
          <span class=" f-w-500" text-align="center">Device ID</span>
        </div>
      </th>
      <th>
        <div class="d-flex">
          <span class=" f-w-500" text-align="center">Device Type</span>
        </div>
      </th>
      <th>
        <div class="d-flex">
          <span class=" f-w-500" text-align="center">Network</span>
        </div>
      </th>
      <th>
        <div class="d-flex">
          <span class=" f-w-500" text-align="center">Quality</span>
        </div>
      </th>
      <th>
        <div class="d-flex">
          <span class=" f-w-500" text-align="center">IP Address</span>
        </div>
      </th>
      <th>
        <div class="d-flex">
          <span class=" f-w-500" text-align="center">Transmit Status</span>
        </div>
      </th>
      <th>
        <div class="d-flex">
          <span class="f-w-500">Retries</span>
        </div>
      </th>
    </tr>

    @for (element of datasource?.connectionDetails; track $index) {
    <tr [ngClass]="element?.role == 'Publisher' ? 'cursor-pointer' : 'cursor-none'" (click)="detail(element)">
      <td>
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item>
            <mat-icon>pause</mat-icon>
            <span>Pause</span>
          </button>

          <button mat-menu-item style="color: red">
            <mat-icon style="color: red">block</mat-icon>
            <span>Block</span>
          </button>

          <button mat-menu-item style="color: red">
            <mat-icon style="color: red">delete</mat-icon>
            <span>Remove</span>
          </button>
        </mat-menu>
      </td>
      <td>{{element?.name}}</td>
      <td>
        {{ element?.role }}
      </td>
      <td>{{ element?.location }}</td>
      <td>---</td>
      <td> {{ element?.device }}</td>
      <td> {{ element?.network }}</td>
      <td><span mat-button class="p-8" [ngClass]="{
          'badge-light-danger': element?.quality === 0,
          'badge-light-success': element?.quality === 2
        }">
          {{ element?.quality }}
        </span></td>
      <td>{{ element?.ipAddress }}</td>
      <td>
        <div class="d-flex">
          @switch (element?.transmitStatus) {
          @case ('Streaming') {
          <i-tabler name="arrow-up-right" class="icon-20" style="color: #F5A30A;"></i-tabler>
          }
          @case ('Receiving') {
          <i-tabler name="arrow-down-left" class="icon-20" style="color: #216093;"></i-tabler>
          }
          @case ('Paused') {
          <i-tabler name="player-pause" class="icon-20"></i-tabler>
          }
          @case ('Blocked') {
          <i-tabler name="circle-half" class="icon-20" style="color: red;"></i-tabler>
          }
          }

          <span class="p-l-4"> {{ element.transmitStatus }}</span>
        </div>
      </td>
      <td> {{ element.received }}</td>
      <td>
        {{ element.retries }}
      </td>
    </tr>
    }

  </table>
</div>
