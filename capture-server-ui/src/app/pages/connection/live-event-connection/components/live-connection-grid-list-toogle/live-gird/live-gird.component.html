<div class="grid-view p-1">

  @for(item of datasource.connectionDetails; track item){
  <mat-card class="grid-card"> 
   <mat-card-header
      class="d-flex align-items-center justify-content-between mat-card-header"
    >
      <mat-card-title class="mat-title">
        <span class="d-flex align-items-center gap-4">
          <mat-icon>star</mat-icon> 
        </span>
      </mat-card-title>

     
    </mat-card-header>
    <mat-card-content >
      <!-- <div class="row">
        <div class="col-md-6">
          <mat-icon
          class="m-t-10"
          style="
            height: 100%;
            width: 100%;
            font-size: 160px;
            color: rgba(33, 96, 147, 1);
          "
          >tablet_mac</mat-icon
        >
        </div>

        <div class="col-md-6">
      
    </div>
    </div> -->
    <div class="row">
      <div class="col-xxxl-3 col-xxl-4 col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-3">
        <mat-card
          class="card"
          [ngClass]="item?.role == 'Publisher' ? 'cursor-pointer' : 'cursor-none'"
          style="height: 14rem; width: 24rem; border: 1px solid transparent"
          
        >
          <img *ngIf="item?.role === 'Publisher'" 
            src="" alt="Image" 
            style="height: 100%; width: 100%; border-radius: 0.428rem"/>
         
    
          <!-- For devices without images -->
          <div
            *ngIf="item.role == 'Subscriber'"
            class="d-flex justify-content-center align-items-center"
            style="height: 100%; width: 100%;"
          >
            <div #tab *ngIf="item?.device == 'iPad15' || item.device == 'iPad22'">
              <mat-icon style="font-size: 4rem">tablet_mac</mat-icon>
            </div>
            <div #phone *ngIf="item?.deviceType == 'iPhone'">
              <mat-icon style="font-size: 4rem">smartphone</mat-icon>
            </div>
          </div>
    
          <!-- Quality Badge -->
          <div style="position: absolute; bottom: 0.3em; left: 0.3em">
            <span *ngIf="item?.quality == 2" 
              class="badge bg-success text-light">
              <mat-icon style="color: rgb(0, 102, 46)">circle</mat-icon> Good
            </span>
            <span *ngIf="item?.quality == 0" 
              class="badge bg-danger text-light">
              <mat-icon style="color: rgb(181, 0, 0)">circle</mat-icon> Poor
            </span>
          </div>
    
          <!-- Transmit Status Badge -->
          <div class="d-flex" style="position: absolute; bottom: 0.3em; right: 0.3em">
            <ng-container>
              <!-- Publisher Streaming -->
              <span *ngIf="item?.role === 'Publisher'" class="badge bg-warning text-dark">
                <mat-icon>arrow_upward</mat-icon> Streaming
              </span>
    
              <!-- Subscriber Receiving -->
              <span *ngIf="item?.role === 'Subscriber'" class="badge bg-primary text-light">
                <mat-icon>arrow_downward</mat-icon> Receiving
              </span>
    
              <!-- Transmit Status -->
              <span *ngIf="item?.transmitStatus === 'Paused'" class="badge bg-secondary text-light">
                <mat-icon>pause</mat-icon> Paused
              </span>
              <span *ngIf="item?.transmitStatus === 'Blocked'" class="badge bg-warning text-dark">
                <mat-icon>block</mat-icon> Blocked
              </span>
            </ng-container>
          </div>
        </mat-card>
      </div>
    </div>
    
    </mat-card-content>
    <!-- <mat-card-actions class="d-flex align-items-center justify-content-between">
     <div class="d-flex align-items-center">
      <span class="p-8 status-good" mat-button style="background-color: rgba(67, 196, 99, 0.1); border-radius: 9px;">
        <div class="d-flex"> -->
         <!-- <i-tabler name="point" class="icon-20" style="fill: rgb(38, 199, 38);"></i-tabler>  -->
      <!--<mat-icon>circle</mat-icon>
       <span>Good</span>
      </div>
      </span>
     </div>
     <div class="d-flex align-items-center">
      <span class="p-8 status-receiving" mat-button style="background-color: rgba(233, 240, 245, 1);  border-radius: 9px;">
        <div class="d-flex">
          <i-tabler name="arrow-down-left" class="icon-20"></i-tabler>
          <span>Received</span>
        </div>
      </span>
      
     </div>
    </mat-card-actions>  -->


    
  </mat-card>
  <mat-card class="p-t-4 p-b-4 p-l-10 p-r-10 info-card" style="background-color: rgba(233, 240, 245, 1);  z-index: 1;">
    <div class="d-flex align-items-center justify-content-between p-t-4">
     <div [ngClass]="item?.role == 'Publisher' ? 'cursor-pointer' : 'cursor-none'">
      <mat-icon
      class="m-t-10"
      style="
        height: 40%;
        width: 30%;
        font-size: 16px;
        color: rgba(33, 96, 147, 1);
      "
      >tablet_mac</mat-icon
    >
        <span>
          ipad
        </span>
     </div>

     
     <div>
       <button mat-icon-button [matMenuTriggerFor]="menu">
         <mat-icon>more_vert</mat-icon>
       </button>
       <mat-menu #menu="matMenu">
         <button mat-menu-item >
           <mat-icon>edit_square</mat-icon>
           <span>Edit</span>
         </button>
         <button mat-menu-item style="color: #de2e21">
           <mat-icon style="color: #de2e21">delete</mat-icon>
           <span>Delete</span>
         </button>
       </mat-menu>
     </div>
   </div>
     <div >
       <h2 class="m-t-2 m-b-4">{{ item?.name }}</h2>
       <h4 class="m-t-2 m-b-4 f-w-200">{{ item?.device }}</h4>
       <h4 class="m-t-2 m-b-4 f-w-200">{{ item?.ipAddress }}</h4>
       <h4 class="m-t-2 m-b-4 f-w-200">{{ item?.retries }} retries</h4>
     </div>
 </mat-card>
}
</div>



