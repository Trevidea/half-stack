<div class="grid-view">
  <div *ngFor="let item of datasource; let i = index">
    <div class="card custom-card" *ngIf="item.countdown!='end'">
      <img class="img-fluid" src="../../../../../assets/images/pip-image/card-image.png" alt="Card image cap" />
      <div class="card-img-overlay p-0 d-flex flex-column" style="height: 100px;">
        <div class="d-flex align-items-center Progress">
          {{item.countdown}}
        </div>
        <div class="menu-container" (click)="clickedmenu(item.id)">
          <app-menu-button [dropdownItems]="dropdownItems"></app-menu-button>
        </div>
      </div>
      <div class="card-body pt-1 pb-0 custom-card-body">
        <div class="row">
          <div class="col-4 d-flex align-items-center " style="padding: 17 0;">
            <div class="badge badge-past-event" [ngClass]="{
              'on-demand-event': item.type === 'on-demand',
              'scheduled-event': item.type === 'scheduled'
            }">
              {{item.type| eventTypeTransform}}
            </div>
          </div>
          <div class="col-8  card-btn-conatiner  ">
            <div class="card-buttons ml-auto">
              <button type="button" class="btn btn-flat-dark btn-sm  mr-md-1 " (click)="viewDetail('detail',i)"
                rippleEffect>
                Details
              </button>
              <button type="button" class="btn btn-warning  btn-sm" style="box-shadow: none;"
                (click)="navigateToEventPreview(item.id)">
                Preview
              </button>
            </div>
          </div>
          <div class="col-12 mt-1 card-text-style">
            <h4 class="ellipsis">{{item.title}} </h4>
            <p class="card-text ellipsis">
              <i class="feather" data-feather="clock"></i>
              {{ formatDateTime(item.dtEvent, item.time) }}
            </p>
            <p class="card-text ellipsis">
              <i class="feather" data-feather="map-pin"></i>
              {{ item.venue.location }}
            </p>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>


<core-sidebar class="modal modal-slide-in fade event-sidebar" name="detail" overlayClass="modal-backdrop"
  (OnClosed)="OnClosedDetail($event)" hideOnEsc="true">
  <app-events-detail-presenter [eventData]="datasource" *ngIf="openDetailmodel" (clickedmenu)="clickedmenu($event)"
    [dropdownItems]="dropdownItems" [startIndex]="startIndex"></app-events-detail-presenter>
</core-sidebar>